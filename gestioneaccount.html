<html>
<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+Antique&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+Antique:wght@300&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
    rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
        rel="stylesheet">
</head>
<body>
  <center>
    <div id="contieniimg">
    <img src="" id="img"></div>
  </div>
    <h1>Impostazioni account Marco Express</h1>
    <h2 class="sotto">Gestisci qui il tuo account Marco Express. Modifica impostazioni, informazioni e preferenze sul tuo account. Questi dati sono salvati sul cloud e possono essere sincronizzati da ogni dispositivo.</h2>
    <div id="pulsantiera">
      <button onclick="acc()" id="account" class="pul"><h2 class="sotto"><span class="material-icons-outlined md-60" id="accicona">badge</span><br>Account</button>
      <button onclick="impost()" id="impostazioni" class="pul"><h2 class="sotto"><span class="material-icons-outlined md-60" id="impicona">settings</span><br>Impostazioni</button>
      <button onclick="pagamenti()" id="pagamenti" class="pul"><h2 class="sotto"><span class="material-icons-outlined md-60" id="pagaicona">monetization_on</span><br>Pagamenti</button>
    </div>
    <div id="carica">
    </div>
    <div id="accountmarcoexpress">
    <h2>Informazioni account</h2>
    <h2 class="lista"><span class="material-icons-outlined md-36">account_circle</span> Nome: <strong id="nome"></strong></h2>
    <h2 class="lista"><span class="material-icons-outlined md-36">email</span> Email: <strong id="email"></strong></h2>
    <h2 class="lista"><span class="material-icons-outlined md-36">vpn_key</span> Password: <button style="background:white; border:2px solid black;" onclick="modificapw()"><h2 class="lista"><strong>Modifica</strong></h2></button></h2>
    <h2 class="lista"><span class="material-icons-outlined md-36">image</span>Carica immagine profilo:</h2><input type="file" value="upload" id="fileButton" accept="image/png, image/jpeg" style="width: 50%; height: 50px; font-size:31px;"/><br>
    <progress value="0" max="100" id="up" style="width:50%;">0%</progress>
    <h2><span id="caricamento"></span></h2><br>

    <h2>Pagamenti e servizio Meteo Marco</h2>
    <h2 class="lista"><span class="material-icons-outlined md-36">paid</span> Denaro totale memorizzato: <strong id="denaro"></strong></h2>
    <h2 class="lista"><span class="material-icons-outlined md-36">sentiment_satisfied</span> Stato dell'abbonamento Meteo Marco: <strong id="stato"></strong></h2>
    <h2 class="lista"><span class="material-icons-outlined md-36">event</span> Data di scadenza: <strong id="datascad"></strong></h2>

  </div>
  <div id="modpw">
    <h1>Modifica la tua password</h1>
    <h2>Per maggiore sicurezza, le inviamo un'email per modificare la password.</h2>
    <button onclick="confermamodificapw()"><h1>Invia email</h1></button>
    <h2 id="risultatopw" style="font-size: 37px;"></h2>
  </div>
  </center>

  <div id="impostazionisiti">
    <h1>Impostazioni del sito Meteo Marco</h1>
    <h2 class="lista" style="float:left; margin-top: 10px;"><strong>Saluta all'avvio</strong></h2><br><div class="btn1_container" id="prima">
      <span class="one"></span><br>
    </div>

    <br><br><br><br><br><br>

    <h2 class="lista" style="float:left; margin-top: 10px;"><strong>Mostra attendibilit&agrave; previsioni</strong></h2><div class="btn1_container" id="seconda">
      <span class="one"></span><br>
    </div>

    <br><br><br><br><br><br>


    <h2 class="lista" style="float:left; margin-top: 10px;"><strong>Rinnovo automatico</strong></h2><div class="btn1_container" id="terza">
      <span class="one"></span><br>
    </div>
    <br><br>
    <h2 class="lista">Il rinnovo automatico sottrarr&agrave; ogni settimana la cifra corrispondente a 1 settimana di abbonamento. Il rinnovo automatico &egrave; totalmente gratuito e pu&ograve; essere disattivato in qualisasi momento. Nel caso in cui non si avesse il denaro necessario per una settimana, Meteo Marco ti avviser&agrave; senza addebitare nulla.</h2>

    <br>

  <!--  <h2 class="lista" style="float:left; margin-top: 10px;"><strong>Suono ad ogni nuovo messaggio dalla community</strong></h2><div class="btn1_container" id="quarta">
      <span class="one"></span><br>
    </div>
    <br><br>
    <h2 class="lista">Verr&agrave; riprodotto un suono quando sar&agrave; presente un messaggio non letto nella community.</h2>-->

  </div>



  <div id="pagamentidiv">
    <center>
      <h1 id="soldimemo"></h1>
      <h2>PayFast</h2>
      <button onclick="pagamh()" id="ppmh"><h2 class="lista"><img src="mhpng.png" width="100px"/><br><strong>Paga servizio Marco Hairdresser</strong></h2></button><br>
      <br><!--<button onclick="dona()" id="dona"><h2 style="font-size: 40px; color: red;">&#x2764;</h2><h2 class="lista"><strong>Effetua una donazione a Marco Express</strong></h2></button>-->
      <br><h2>Cronologia Transazioni</h2>
      <h2 class="lista">Ordine: dal meno recente.</h2>
        </center>
      <div style="width: 93%; height: 55%; overflow-y:auto;float:left;" id="contieni">
            <table id="ilmioid">
        <tr><td><h1>&euro;</h1></td><td><h1>Prodotto</h1></td><td><h1>Data</h1></td><td><h1>Ora</h1></td><td><h1>ID</h1></td></tr>
      </table>
    </div>
    <button onclick="document.getElementById('contieni').scrollTop = 0"><span class="material-icons-outlined md-48">north</span></button>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br>
    <button onclick="document.getElementById('contieni').scrollTop = 10000000000000"><span class="material-icons-outlined md-48">south</span></button>
    <br><br><br><br>
  </div>

  <div id="pagamarcohair">
    <center>
    <h1>Paga un servizio Marco Hairdresser</h1>
    <h2>Paga ora un massaggio Marco Hairdresser col tuo portafoglio online Marco Express</h2>
    <input type="number" id="soldimh" placeholder="Inserisci l'importo da pagare"/>
    <button onclick="pagaamh()" style="width: 150px; height: 130px; border-radius: 50px; border: 3px solid black;background-color: #d9d9d9;"><h2>Paga</h2></button><br><br>
    <button onclick="annullapagamh()" style="width: 25%; height: 100px; border: 3px solid red; border-radius: 100px; background-color: #ff9999;"><h2>Annulla</h2></button>
  </center>
  </div>

  <div id="nientesoldi" style="">
    <center>
      <span class="material-icons md-75 red">sentiment_dissatisfied</span>
      <h1 id="1niente">Non hai i soldi necessari per l'acquisto.</h1>
      <h2 id="2niente">Ci dispiace, ma non hai il denaro necessario per l'acquisto. Ricarica il portafoglio e riprova.</h2>
      <button onclick="document.getElementById('nientesoldi').style.display = 'none'; document.getElementById('pagamentidiv').style.display = 'block'" style="width:30%; height: 150px; border: 4px solid red; border-radius: 80px; background-color: white;"><h2>Indietro</h2></button>
    </center>
  </div>

  <div id="pagamentoeseguito">
    <center>
    <span class="material-icons-outlined green md-75">task_alt</span>
    <h1 id="1corretto"></h1>
    <h2 id="2corretto"></h2>
    <button onclick="document.getElementById('pagamentoeseguito').style.display = 'none'; document.getElementById('pagamentidiv').style.display = 'block'" style="width:30%; height: 150px; border: 4px solid red; border-radius: 80px; background-color: white;"><h2>Indietro</h2></button>
    <center>
  </div>

  <br><center><button onclick="esci()" id="logout"><span class="material-icons md-60" style="float:left;">logout</span></button></center>

</body>
<script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-database.js"></script>
 <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-firestore.js"></script>
 <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-storage.js"></script>
 <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-messaging.js"></script>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>


<script>
var firebaseConfig = {
  apiKey: "AIzaSyCIw0-w1C3zDjoGgVpLKsFYm2TFXqJr9yw",
  authDomain: "marco-express-d30c8.firebaseapp.com",
  projectId: "marco-express-d30c8",
  storageBucket: "marco-express-d30c8.appspot.com",
  messagingSenderId: "764621319758",
  appId: "1:764621319758:web:9390a4a994df27cda4dd1f",
  measurementId: "G-3ZK6NW0G3F"
};
// Initialize Firebase
firebase.initializeApp(firebaseConfig);

const auth = firebase.auth();
var database = firebase.database();
var storage = firebase.storage();
console.log(navigator.platform)
console.log(navigator.userAgent)
console.log(navigator.appVersion)
document.getElementById("accountmarcoexpress").style.display = "none"
document.getElementById("impostazionisiti").style.display = "none"
  document.getElementById("modpw").style.display = "none";
  document.getElementById("pagamarcohair").style.display = "none"
  document.getElementById("pagamentidiv").style.display = "none"
  document.getElementById("pagamentoeseguito").style.display = "none"
/*navigator.geolocation.getCurrentPosition(mostraPosizione)
  function  mostraPosizione(posizione) {
  	console.log("Latitudine: " + posizione.coords.latitude);
  	console.log("Longitudine: " + posizione.coords.longitude);
  }*/
var uploader = document.getElementById("up")
var out = document.getElementById("caricamento")
fileButton.addEventListener('change', function(e){
  var user = firebase.auth().currentUser;
  var ss = storage.ref();
 var fotovecchia = ss.child('Foto_Profilo/' + user.uid + '/Immagineprofiloutente');

// Delete the file
fotovecchia.delete().then(() => {
console.log("fatto")
}).catch((error) => {
  console.log("Errore...")
});
  out.innerHTML = "<span class='material-icons-outlined md-48'>backup</span> Caricamento dell'immagine in corso..."
  out.style.color = "#ffb300"
  out.style.display = "block"
  var file = e.target.files[0];

  var storageRef = firebase.storage().ref('Foto_Profilo/' + user.uid + '/Immagineprofiloutente')
  var task = storageRef.put(file);
  task.on('state_changed',

  function progress(snapshot){
    var percentuale = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
    uploader.value = percentuale
  },
  function error(err){
    console.log(err)
    out.innerHTML = "<span class='material-icons-outlined md-48'>cloud_off</span> Non &egrave; stato possibile caricare l'immagine, riprova."
    out.style.color = "red"
  },
  function complete(){
    console.log('completato!')
    var user = firebase.auth().currentUser;

    var database = firebase.database();

    out.innerHTML = "<span class='material-icons-outlined md-48'>cloud_done</span> Caricamento dell'immagine riuscito!"
    out.style.color = "#ffb300"
    uploader.value = 0


  // Get the download URL
  storageRef.getDownloadURL()
  .then((url) => {
    firebase.database().ref('Utenti/' + user.uid).update({
      Immagine: url
    });
    out.innerHTML = "<span class='material-icons-outlined md-48'>cloud_done</span> Salvataggio riuscito!"
    out.style.color = "#09ff00"
    setTimeout(function(){
      out.style.display = "none"
    }, 5000)
  })
  .catch((error) => {
    out.innerHTML = "<span class='material-icons-outlined md-48'>link_off</span> Recupero del URL non riuscito. Riprova."
    out.style.color = "red"
  console.log(error.code)
  // A full list of error codes is available at
  // https://firebase.google.com/docs/storage/web/handle-errors
  switch (error.code) {
    case 'storage/object-not-found':
      // File doesn't exist
      break;
    case 'storage/unauthorized':
      // User doesn't have permission to access the object
      break;
    case 'storage/canceled':
      // User canceled the upload
      break;
    // ...
    case 'storage/unknown':
      // Unknown error occurred, inspect the server response
      break;
  }
  });
  }
);
})

auth.onAuthStateChanged(function(user){
  if(user){
    console.log("UTENTE ATTIVO!")
    ricezionetutto()
    acc()
    ricezionepagamenti()
  }})
function ricezionetutto(){
  var user = firebase.auth().currentUser;
  var database = firebase.database();
  var posizioneutente = firebase.database().ref('Utenti/' + user.uid);
posizioneutente.on('value', (snapshot) => {
  const utente = snapshot.val();
  //output

  //Immagine profilo
  var urlimage = utente.Immagine
  console.log(urlimage)
  $("#img").attr("src",urlimage)

  document.getElementById("nome").innerHTML = utente.Nome
  document.getElementById("email").innerHTML = user.email
  document.getElementById("stato").innerHTML = utente.Abbonamento
  if(utente.Abbonamento === "Scaduto"){
    document.getElementById("datascad").innerHTML = "(Non attivo)"
  }else{
    var datascad = new Date(utente.Scadenza)
    var data = datascad.getDate()
    var mese = datascad.getMonth()
    var min = datascad.getMinutes()
    var ora = datascad.getHours()

    document.getElementById("datascad").innerHTML = data +"/"+ mese + " alle ore " + ora + ":"+ min
  }
  document.getElementById("denaro").innerHTML = "&euro;" + utente.Soldi
  document.getElementById("soldimemo").innerHTML = "Denaro ora memorizzato: &euro;" + utente.Soldi

});

//Impostazioni e coordinazione
const one = document.getElementsByClassName("one")[0];
const two = document.getElementsByClassName("one")[1];
const tre = document.getElementsByClassName("one")[2];
const dbRef = firebase.database().ref();
dbRef.child("Utenti").child(user.uid).child("Impostazioni").get().then((snapshot) => {
  if (snapshot.exists()) {
    var impostazioni = snapshot.val();
    console.log("Salvato sul cloud: " + impostazioni.primaimpostazione)
    var att
    if(impostazioni.primaimpostazione === "On"){
      one.classList.toggle("inactive1");
      att = "On"

    }else if(impostazioni.primaimpostazione === "Off"){
      att = "Off"
    }
    document.getElementById("prima").addEventListener("click", () => {
      one.classList.toggle("inactive1");
      if(att === "On"){
        var user = firebase.auth().currentUser;
      firebase.database().ref('Utenti/' + user.uid + '/Impostazioni').update({
         primaimpostazione: "Off"
       });
       att = "Off"
      }else{
        var user = firebase.auth().currentUser;
      firebase.database().ref('Utenti/' + user.uid + '/Impostazioni').update({
         primaimpostazione: "On"
       });
       att = "On"
      }

    });

    console.log("Salvato sul cloud: " + impostazioni.secondaimpostazione)
    var attt
    if(impostazioni.secondaimpostazione === "On"){
      two.classList.toggle("inactive1");
      attt = "On"

    }else if(impostazioni.secondaimpostazione === "Off"){
      attt = "Off"
    }

   document.getElementById("seconda").addEventListener("click", () => {
      console.log("ppppcc");
      two.classList.toggle("inactive1");
      if(attt === "On"){
        var user = firebase.auth().currentUser;
      firebase.database().ref('Utenti/' + user.uid + '/Impostazioni').update({
         secondaimpostazione: "Off"
       });
       attt = "Off"
      }else{
        var user = firebase.auth().currentUser;
      firebase.database().ref('Utenti/' + user.uid + '/Impostazioni').update({
         secondaimpostazione: "On"
       });
       attt = "On"
      }

    });
    console.log("Salvato sul cloud: " + impostazioni.terzaimpostazione)
    var atttt
    if(impostazioni.terzaimpostazione === "On"){
      tre.classList.toggle("inactive1");
      atttt = "On"
    }else if(impostazioni.terzaimpostazione === "Off"){
      atttt = "Off"
    }
    document.getElementById("terza").addEventListener("click", () => {
      tre.classList.toggle("inactive1");
      if(atttt === "On"){
        console.log("ee")
        var user = firebase.auth().currentUser;
      firebase.database().ref('Utenti/' + user.uid + '/Impostazioni').update({
         terzaimpostazione: "Off"
       }, (error) => {
         if (error) {

         } else {
           // Data saved successfully!
         }
});
       atttt = "Off"
      }else{
        var user = firebase.auth().currentUser;
      firebase.database().ref('Utenti/' + user.uid + '/Impostazioni').update({
         terzaimpostazione: "On"
       });
       atttt = "On"
      }

    });

}else{
  console.log("error")
}
})
}

function acc(){
  document.getElementById("accountmarcoexpress").style.display = "none"
    document.getElementById("modpw").style.display = "none";
  $("#accicona").attr("class","material-icons md-60")
  $("#impicona").attr("class","material-icons-outlined md-60")
    $("#pagaicona").attr("class","material-icons-outlined md-60")
  document.getElementById("account").style.backgroundColor = "#dcddde"
  document.getElementById("impostazioni").style.backgroundColor = "white"
  document.getElementById("accountmarcoexpress").style.display = "block"
  document.getElementById("pagamenti").style.backgroundColor = "white"
  document.getElementById("impostazionisiti").style.display = "none"
  document.getElementById("pagamentidiv").style.display = "none"
}

function impost(){
    document.getElementById("modpw").style.display = "none";
  $("#impicona").attr("class","material-icons md-60")
  $("#accicona").attr("class","material-icons-outlined md-60")
  $("#pagaicona").attr("class","material-icons-outlined md-60")
  document.getElementById("account").style.backgroundColor = "white"
  document.getElementById("impostazioni").style.backgroundColor = "#dcddde"
  document.getElementById("pagamenti").style.backgroundColor = "white"
    document.getElementById("accountmarcoexpress").style.display = "none"
    document.getElementById("impostazionisiti").style.display = "block"
    document.getElementById("pagamentidiv").style.display = "none"
}

function pagamenti(){
    document.getElementById("modpw").style.display = "none";
  $("#pagaicona").attr("class","material-icons md-60")
  $("#accicona").attr("class","material-icons-outlined md-60")
  $("#impicona").attr("class","material-icons-outlined md-60")
  document.getElementById("account").style.backgroundColor = "white"
  document.getElementById("impostazioni").style.backgroundColor = "white"
  document.getElementById("pagamenti").style.backgroundColor = "#dcddde"
    document.getElementById("accountmarcoexpress").style.display = "none"
    document.getElementById("impostazionisiti").style.display = "none"
    document.getElementById("pagamentidiv").style.display = "block"
}

function modificapw(){
  console.warn("Area privata");
  document.getElementById("accountmarcoexpress").style.display = "none";
  document.getElementById("modpw").style.display = "block";
}

function confermamodificapw(){
  var user = firebase.auth().currentUser;
  var ris = document.getElementById("risultatopw")

   firebase.auth().sendPasswordResetEmail(user.email)
  .then(() => {
    ris.innerHTML = '<br><span class="material-icons-outlined md-48 green">check_circle</span> Email inviata!'
  })
  .catch((error) => {
    var errorCode = error.code;
    var errorMessage = error.message;
    ris.innerHTML = '<br><span class="material-icons-outlined red md-48">error_outline</span> Email non inviata: si &egrave; verificato un errore!<br>Error: ' + errorCode
  });
}

function pagamh(){
  console.warn("Attenzione: accesso eseguito ad area pagamenti");
  document.getElementById("pagamentidiv").style.display = "none"
  document.getElementById("pagamarcohair").style.display = "block"
}
function pagaamh(){
  var user = firebase.auth().currentUser;

    const dbRef = firebase.database().ref();
  console.warn("Attenzione: pagamento in esecuzione...");
  var denarodapagare = document.getElementById("soldimh").value
  if(denarodapagare != null || denarodapagare != 0){
    dbRef.child("Utenti").child(user.uid).get().then((snapshot) => {
  var soldiattuali = snapshot.val().Soldi
  var sottrai = soldiattuali-denarodapagare
  console.log("Quello che riceve dal server: " + soldiattuali)
  console.log("Quello che riceve dall'utente: " + denarodapagare)
  console.log(soldiattuali);
  console.log(denarodapagare);
  console.log(sottrai)
  if(sottrai >= 0){
    //L'utente ha soldi
    console.log("è strano: " + sottrai)
    console.log("può")
    var arrotondato = sottrai.toFixed(2)
    console.log(arrotondato)
    var invia = Number(arrotondato)
    firebase.database().ref('Utenti/' + user.uid).update({
    Soldi: arrotondato
  });
  //Ora memorizziamo il pagamento
  var adesso = new Date();
  var giorno = adesso.getDate();
  var mese = adesso.getMonth();
  var anno = adesso.getFullYear();
  var minuto = adesso.getMinutes();
  var oraa = adesso.getHours();
  mese++

  var data = giorno + "/" + mese + "/" + anno
  var ora = oraa + ":" + minuto

  var elencoCaratteri="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";
 var minimoCaratteri=8;
 var massimoCaratteri=8;
 var differenzaCaratteri=massimoCaratteri-minimoCaratteri;
 var lunghezza=Math.round((Math.random()*differenzaCaratteri)+minimoCaratteri);
 var incremento=0;
 var password="";
 while(incremento<lunghezza){
    password+=elencoCaratteri.charAt(Math.round(Math.random()*elencoCaratteri.length));
    incremento++;
 }

  firebase.database().ref("Utenti/" + user.uid + "/Cronologiapagamenti").push().set({
     "data": data,
     "ora": ora,
     "totale": denarodapagare,
     "articolo": "Pagamento Marco Hairdresser",
     "id": password
  }, (error) => {
  if (error) {
    console.log(error);
    document.getElementById("nientesoldi").style.display = "block"
    document.getElementById("pagamarcohair").style.display = "none"
    document.getElementById("1niente").innerHTML = "Errore interno"
    document.getElementById("2niente").innerHTML = "Non siamo riusciti ad effettuare il pagamento. Riprova pi&ugrave; tardi."
  } else {
    console.log("fattio")
    document.getElementById("pagamentoeseguito").style.display = "block"
      document.getElementById("pagamarcohair").style.display = "none"
    document.getElementById("1corretto").innerHTML = "Pagamento effettuato!"
    document.getElementById("2corretto").innerHTML = "Pagamento eseguito con successo. Abbiamo scalato la somma al tuo account. Se viene richiesto l'ID di transazione, utilizzare il seguente: <br>" + password
  }
  })

  }else{
    //L'utente non ha soldi
    console.log("non può")
    document.getElementById("nientesoldi").style.display = "block"
    document.getElementById("pagamarcohair").style.display = "none"
    document.getElementById("1niente").innerHTML = "Non hai i soldi necessari per l'acquisto."
    document.getElementById("2niente").innerHTML = "Ci dispiace, ma non hai il denaro necessario per l'acquisto. Ricarica il portafoglio e riprova."
  }
}).catch((error) => {
  console.error(error);
});
}
}
function annullapagamh(){
  document.getElementById("pagamarcohair").style.display = "none"
  document.getElementById("pagamentidiv").style.display = "block"
}

function ricezionepagamenti(){
    var user = firebase.auth().currentUser;
  firebase.database().ref("Utenti/" + user.uid + "/Cronologiapagamenti").on("child_added", function (snapshot) {
    var ss = snapshot.val()
    var importonumero = "€" + ss.totale
  var parentElm = document.getElementById("ilmioid")
  var nuovaRiga = document.createElement("tr");

var titolo = document.createElement("td");
var data = document.createElement("td");
var ora = document.createElement("td");
var importo = document.createElement("td");
var id = document.createElement("td");

var titoloo = document.createTextNode(ss.articolo);
var dataa = document.createTextNode(ss.data);
var oraa = document.createTextNode(ss.ora);
var importoo = document.createTextNode(importonumero);
var idd = document.createTextNode(ss.id);

titolo.appendChild(titoloo);
data.appendChild(dataa);
ora.appendChild(oraa);
importo.appendChild(importoo);
id.appendChild(idd);

//Inserisci la cella nella riga
nuovaRiga.appendChild(importo);
nuovaRiga.appendChild(titolo);
nuovaRiga.appendChild(data);
nuovaRiga.appendChild(ora);
nuovaRiga.appendChild(id);
//importo prodotto data ora id

//Inserisci la riga nella tabella
parentElm.appendChild(nuovaRiga);
});
}


function esci(){
  auth.signOut();
  window.location = "accedi.html"
}

</script>
<style>
.material-icons.md-18 { font-size: 18px; }
.material-icons.md-24 { font-size: 24px; }
.material-icons.md-30 { font-size: 30px; }
.material-icons.md-36 { font-size: 36px; }
.material-icons.md-48 { font-size: 48px; }
.material-icons.md-50 { font-size: 50px; }
.material-icons.md-60 { font-size: 60px; }
.material-icons.md-75 { font-size: 75px; }
.material-icons.md-85 { font-size: 85px; }
.material-icons.md-150 { font-size: 150px; }
.material-icons.md-300 { font-size: 300px; }
.material-icons.red { color: red; }
.material-icons.yellow { color: yellow; }
.material-icons.green { color: #00b336; }
.material-icons.white { color: white; }
.material-icons.gray { color: #5e5e5e; }
.material-icons.blu { color: #0076f5; }

/*Out*/
.material-icons-outlined.md-18 { font-size: 18px; }
.material-icons-outlined.md-24 { font-size: 24px; }
.material-icons-outlined.md-30 { font-size: 30px; }
.material-icons-outlined.md-36 { font-size: 36px; }
.material-icons-outlined.md-48 { font-size: 48px; }
.material-icons-outlined.md-50 { font-size: 50px; }
.material-icons-outlined.md-60 { font-size: 60px; }
.material-icons-outlined.md-75 { font-size: 75px; }
.material-icons-outlined.md-85 { font-size: 85px; }
.material-icons-outlined.md-150 { font-size: 150px; }
.material-icons-outlined.md-300 { font-size: 300px; }
.material-icons-outlined.red { color: red; }
.material-icons-outlined.yellow { color: yellow; }
.material-icons-outlined.green { color: #00b336; }
.material-icons-outlined.white { color: white; }
.material-icons-outlined.gray { color: #5e5e5e; }
.material-icons-outlined.blu { color: #0076f5; }


h1{
  font-family: 'Zen Kaku Gothic Antique', sans-serif;
  font-size: 50px;
}
h2{
  font-family: 'Zen Kaku Gothic Antique', sans-serif;
  font-size: 40px;
}
.sotto{
  font-family: 'Zen Kaku Gothic Antique', sans-serif;
  font-size: 25px;
  font-weight: 400;
}
.pul{
  width:30%;
  height: auto;
  font-size: 35px;
  border-top-color: white;
  border-right-color: white;
  border-left-color: white;
  border-bottom-color: #8c8c8c;
  background-color: white;
}
.lista{
  font-family: 'Zen Kaku Gothic Antique', sans-serif;
  font-size: 35px;
  font-weight: 500;
}
#img{
  max-width:400px;max-height:400px;
  border-radius: 150px;
}
.btn1_container {
  float: right;
  width: 120px;
  height: 63px;
  background-color: white;
  display: flex;
  position: relative;
  border: 3px solid #111;
  margin-right: 20px;
  box-shadow: -1px 3px 22px 0px rgba(0, 0, 0, 0.75);
}
/* Style 1 */
.btn1_container {
  border-radius: 35px;
}
.one {
  top: 10px;
  position: absolute;
  height: 40px;
  width: 40px;
  background-color: grey;
  display: block;
  border-radius: 30px;
  border: 2px solid red;
  background-color: rgba(280, 0, 0, 0.5);
  transition: all 0.3s ease;
}
.one {
  left: 5px;
}
.inactive1 {
  transform: translateX(calc(70px - 6px));
  border: 2px solid #10d610;
  background-color: rgba(0, 265, 0, 0.3);
}
#ritornamm{
  width: 100%;
  height: auto;
  position: fixed;
  margin-bottom: 5px;
}
#logout{
  border: 3px solid red;
  background-color: #fc9f9f;
  width: 80px;
  height: 80px;
  border-radius: 40px;
}
#ppmh{
  width:90%;
  height: auto;
  border: 1px solid #ffb700;
  border-top-right-radius: 75px;
  border-bottom-left-radius: 50px;
  background-color: #fcef88;
}
#dona{
  width:90%;
  height: auto;
  border: 1px solid #00aaff;
  border-top-right-radius: 75px;
  border-bottom-left-radius: 50px;
  background-color: #a8e2ff;
}
#soldimh{
  width: 60%;
  height: 110px;
  font-size: 40px;
  border-radius: 40px;
  border: 3px solid black;
  background-color: #d9d9d9;
}
#nientesoldi{
  width: 100%;
  height: 100%;
  position:fixed;
  display: none;
  background-color: white;
}
table {
border-collapse:collapse
}
td, th {
border:3px solid #ddd;
padding:15px;
font-size: 35px;
font-family: 'Zen Kaku Gothic Antique', sans-serif;
}
</style>
</html>
